# Telesurgery SRTP protocol

	## RTP (Real-time Transport Protocol)
	
		- RTP is a protocol designed specifically for real-time data like audio and video.
		- It provides features like header information for 
			- synchronization, 
			- payload type identification (but not the codec itself), 
			- and sequence numbers for error detection and reordering.

	## Codec support 
		
		- RTP itself doesn't specify or enforce any specific video codec.
		- It acts as a transport layer, agnostic to the actual compression format used within the payload.
		- Different codecs like H.264, VP9, and AV1 can be carried within RTP packets.

	## WebRTC and Codec Usage

		- WebRTC, which utilizes SRTP on top of RTP, typically negotiates the video codec during the connection setup phase.
		- Both parties advertise their supported codecs, and a mutually agreeable option (like VP9 for real-time communication) 
			is chosen before media exchange begins

	## RTP protocol for StereoScopic video
	
		- (RTP) itself doesn't have specific mechanisms for encapsulating stereo or multi-view video streams at the protocol level.
		
		### Common approaches to handle stereo video streams with RTP
		
			- "Separate RTP Sessions"
				- Establish two separate RTP sessions, one for the left eye video and another for the right eye video
				- keeps the streams independent but requires managing two connections.

			- "RTP Multi-view Formats"
				- Some video coding formats like H.264 have payload formats designed for multi-view video.
				- These formats can multiplex the left and right eye video frames into a single RTP payload. 
				- The specific format used depends on the chosen video codec.

			- "RTCP (RTP Control Protocol)"
				- RTCP can be used to convey information about the stereo configuration.
				- For example, RTCP can be used to signal the baseline for depth perception or the frame packing arrangement  
					within the RTP payload if using a multi-view

		### Interleaving and synchronization

			- "Frame Alternating"
				- sending left eye frame followed by right eye frame, and so on.
				- This maintains basic synchronization but may introduce some temporal jitter depending on network delays.
			
			- "Field Interleaving"
				- interleave fields from the left and right eye within a single frame.
				- can improve perceived synchronization but requires the receiver to be able to de-interlace the video properly.  

			- "SEI (Supplemental Enhancement Information)" Messages
				- Some video coding formats like H.264 allow including "Stereo Video Information (SVI)" within SEI messages
				- This embedded data specifies how left and right eye views are packed within the bitstream.

			For optimal results, it's recommended to refer to the codec specification for recommended practices.
	
		### Synchronization with IDR Frames

			- Synchronization of IDR (Intra-coded Decoder Refresh) frames between left and right eye streams is crucial.
			
			#### Codec-level Synchronization
				- Many video codecs have built-in mechanisms for ensuring IDR frames are sent simultaneously for both views.
				- This is often achieved through encoding configuration options.

			#### RTP Timestamps
				- If codec-level synchronization is unavailable, you can leverage RTP timestamps within the RTP headers.

		### Multi-view payload format 

			- The definition of multi-view payload formats happens at the video codec level.  Here's how it works
			- "Video Codecs and Multi-view Extensions" 
				-  Some video codecs like H.264 (MPEG-4 AVC) and H.265 (HEVC) have extensions that enable encoding 
					and encapsulating multiple video views within a single bitstream
				- These extensions define how to multiplex left and right eye video data efficiently.
			- "Payload Type (PT)"
				- Within the RTP header, there's a field called Payload Type (PT).			
	## Open Source 

		### uvgRTP
			
			- https://github.com/ultravideo/uvgRTP
			- It features an intuitive API and built-in support for transporting various video codecs, including "H264, VP8, VP9, H.265 (HEVC)", and others.
			- Encapsulation
				- allows you to encapsulate your compressed video frames within RTP packets along with functionalities for header manipulation.
			- 

